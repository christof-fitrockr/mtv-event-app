<div class="container mt-4">
  <h2>Admin Dashboard</h2>

  <div class="list-group mb-4">
    <a routerLink="/admin/events" class="list-group-item list-group-item-action">Manage Events</a>
    <a routerLink="/admin/locations" class="list-group-item list-group-item-action">Manage Locations</a>
    <a routerLink="/admin/coaches" class="list-group-item list-group-item-action">Manage Coaches</a>
    <a routerLink="/admin/statistics" class="list-group-item list-group-item-action">View Statistics</a>
  </div>

  <hr>

  <div class="d-flex justify-content-between align-items-center mb-4">
    <h3>Upcoming Events</h3>
    <button class="btn btn-primary" [routerLink]="['/admin/events/new']">Create Event</button>
  </div>
  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let event of events">
      <div class="card h-100">
        <div class="card-body">
          <h5 class="card-title">{{ event.title }}</h5>
          <p class="card-text">{{ event.description }}</p>
          <p class="card-text"><small class="text-muted">{{ event.location }}</small></p>
          <div class="mt-3">
            <qr-code [value]="event.qrCodeData"></qr-code>
            <a [href]="event.qrCodeData" target="_blank" class="d-block mt-2">Manual Check-in</a>
          </div>
        </div>
        <div class="card-footer">
          <button class="btn btn-secondary btn-sm" (click)="viewAttendance(event.id)">View Attendance</button>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="selectedEventId" class="mt-5">
    <h3>Attendance for {{ selectedEventTitle }}</h3>
    <div class="input-group mb-3" style="max-width: 300px;">
      <input type="date" class="form-control" [(ngModel)]="selectedDate" (change)="loadAttendance()">
    </div>
    <ul class="list-group">
      <li class="list-group-item" *ngFor="let record of attendance">
        {{ record.name || 'Anonymous' }} - {{ record.checkInTime.toDate() | date:'shortTime' }}
      </li>
    </ul>
  </div>
</div>
